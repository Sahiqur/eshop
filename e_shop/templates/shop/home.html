{% extends 'base.html' %}
{% load static %}
{% block title %}E-Shop | Home{% endblock %}

{% block extra_css %}
<style>
:root {
  --teal: #00bfa6;
  --coral: #ff6f61;
  --dark: #0e0e0e;
  --light: #fafafa;
  --gray: #6c757d;
  --radius: 18px;
  --shadow: 0 10px 30px rgba(0,0,0,0.12);
  --transition: all 0.4s ease;
}

/* ===== Fade / Slide Animations ===== */
@keyframes fadeUp {from{opacity:0;transform:translateY(40px);}to{opacity:1;transform:translateY(0);}}
@keyframes fadeIn {from{opacity:0;}to{opacity:1;}}
.fade-up {animation: fadeUp 1s ease forwards;}
.fade-in {animation: fadeIn 1s ease forwards;}

/* ===== Hero Section ===== */
.hero-section {
  background: linear-gradient(135deg, var(--teal) 0%, var(--coral) 100%);
  color: white;
  border-radius: var(--radius);
  overflow: hidden;
  padding: 5rem 2rem;
  margin-bottom: 4rem;
  box-shadow: var(--shadow);
  position: relative;
}
.hero-section::after {
  content:"";
  position:absolute;
  top:0;left:0;width:100%;height:100%;
  background:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='20' cy='20' r='2' fill='rgba(255,255,255,0.15)'/><circle cx='60' cy='70' r='3' fill='rgba(255,255,255,0.1)'/><circle cx='90' cy='30' r='4' fill='rgba(255,255,255,0.12)'/></svg>") repeat;
  opacity:0.3;
}
.hero-title {
  font-weight:800;
  font-size:3rem;
  text-shadow:0 3px 12px rgba(0,0,0,0.25);
}
.hero-subtitle {font-size:1.4rem;opacity:0.9;}
.hero-btn {
  background:white;color:var(--coral);
  border:none;padding:14px 38px;
  font-weight:600;border-radius:50px;
  transition:var(--transition);
}
.hero-btn:hover {
  background:rgba(255,255,255,0.9);
  transform:translateY(-4px);
  color:var(--teal);
}

/* ===== Section Titles ===== */
.section-header{text-align:center;margin:4rem 0 2rem;}
.section-title{
  font-weight:700;font-size:2.2rem;
  position:relative;display:inline-block;
}
.section-title::after{
  content:"";position:absolute;bottom:-10px;left:25%;
  width:50%;height:4px;border-radius:2px;
  background:linear-gradient(90deg,var(--teal),var(--coral));
}

/* ===== Product Card ===== */
.product-card{
  border:none;border-radius:var(--radius);
  overflow:hidden;background:white;
  box-shadow:var(--shadow);
  transition:var(--transition);
}
.product-card:hover{transform:translateY(-10px) scale(1.02);}
.product-img-container{height:220px;overflow:hidden;}
.product-img{
  width:100%;height:100%;object-fit:cover;
  transition:transform 0.6s ease;
}
.product-card:hover .product-img{transform:scale(1.1);}
.product-title{font-weight:600;margin-top:0.5rem;}
.product-price{color:var(--coral);font-weight:700;font-size:1.2rem;}
.card-footer{background:white;border-top:none;}
.btn-primary{
  background:linear-gradient(90deg,var(--teal),var(--coral));
  border:none;color:#fff;font-weight:600;border-radius:50px;
  transition:var(--transition);
}
.btn-primary:hover{opacity:0.9;transform:translateY(-3px);}
.btn-outline-primary{
  color:var(--teal);border:2px solid var(--teal);border-radius:50px;
  transition:var(--transition);
}
.btn-outline-primary:hover{background:var(--teal);color:#fff;}

/* ===== Features ===== */
.features-section{background:var(--light);border-radius:var(--radius);padding:3rem 1rem;margin:3rem 0;}
.feature-item{transition:var(--transition);}
.feature-item:hover{transform:translateY(-8px);}
.feature-icon{font-size:2.5rem;margin-bottom:1rem;color:var(--teal);}
.feature-title{font-weight:600;}

/* ===== Category Card ===== */
.category-card{
  border:none;border-radius:var(--radius);
  box-shadow:var(--shadow);transition:var(--transition);
}
.category-card:hover{transform:translateY(-6px);}
.category-icon{
  font-size:3rem;
  background:linear-gradient(135deg,var(--teal),var(--coral));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
}

/* ===== Banner ===== */
.banner-card{
  border:none;border-radius:var(--radius);
  overflow:hidden;box-shadow:var(--shadow);
  background:linear-gradient(135deg,#ffecd2 0%,#fcb69f 100%);
}
.banner-card h3{color:var(--dark);font-weight:700;}
.banner-card .btn{border-radius:50px;font-weight:600;}

/* ===== Newsletter ===== */
.newsletter-card{
  background:linear-gradient(135deg,var(--dark) 0%, #1f1f1f 100%);
  color:white;border:none;border-radius:var(--radius);
  padding:4rem 2rem;text-align:center;
}
.newsletter-card input{
  border-radius:50px;border:none;padding:0.9rem 1.2rem;
}
.newsletter-card button{
  border-radius:50px;background:var(--coral);color:#fff;
  border:none;padding:0.9rem 1.5rem;font-weight:600;
  transition:var(--transition);
}
.newsletter-card button:hover{background:var(--teal);}
</style>
{% endblock %}

{% block content %}
<!-- Hero -->
<section class="hero-section fade-up">
  <div class="container position-relative">
    <div class="row align-items-center">
      <div class="col-lg-7">
        <h1 class="hero-title mb-3">ğ‚ğ¡ğ¨ğ¨ğ¬ğ ğ¨ğ«ğ ğšğ§ğ¢ğœ ğŸğ¨ğ¨ğ ğ©ğšğœğ¤ğğ ğ°ğ¢ğ­ğ¡ ğ§ğ®ğ­ğ«ğ¢ğğ§ğ­ğ¬, ğŸğ«ğğ ğŸğ«ğ¨ğ¦ ğœğ¡ğğ¦ğ¢ğœğšğ¥ğ¬, ğšğ§ğ ğ§ğšğ­ğ®ğ«ğšğ¥ğ¥ğ² ğğŸğŸğğœğ­ğ¢ğ¯ğ ğŸğ¨ğ« ğš ğ¡ğğšğ¥ğ­ğ¡ğ¢ğğ« ğ²ğ¨ğ®.</h1>
        <p class="hero-subtitle mb-4">Wholesome Living | Sustainable Choices | Essential Products</p>
        <a href="{% url 'shop:product_list' %}" class="btn hero-btn">
          <i class="fas fa-shopping-bag me-2"></i>Start Shopping
        </a>
      </div>
      <div class="col-lg-5 d-none d-lg-block text-center">
        <img src="{% static 'welcome.jpg' %}" class="img-fluid rounded-4 shadow-lg" alt="Welcome">
      </div>
    </div>
  </div>
</section>

<!-- Features -->
<div class="container features-section fade-up">
  <div class="row g-4 text-center">
    <div class="col-md-3 feature-item">
      <i class="fas fa-truck feature-icon"></i>
      <h5 class="feature-title">Free Delivery</h5>
      <p>Orders over à§³50</p>
    </div>
    <div class="col-md-3 feature-item">
      <i class="fas fa-undo feature-icon"></i>
      <h5 class="feature-title">30-Day Returns</h5>
      <p>Hassle-free process</p>
    </div>
    <div class="col-md-3 feature-item">
      <i class="fas fa-lock feature-icon"></i>
      <h5 class="feature-title">Secure Payment</h5>
      <p>100% protected</p>
    </div>
    <div class="col-md-3 feature-item">
      <i class="fas fa-headset feature-icon"></i>
      <h5 class="feature-title">24/7 Support</h5>
      <p>Always here to help</p>
    </div>
  </div>
</div>

<!-- Featured Products -->
<section class="container fade-up">
  <div class="section-header">
    <h2 class="section-title">Featured Products</h2>
    <p class="text-muted">Our top-rated picks just for you</p>
  </div>
  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
    {% for product in featured_products %}
    <div class="col">
      <div class="card product-card h-100">
        <div class="product-img-container">
          {% if product.image %}
            <img src="{{ product.image.url }}" class="product-img" alt="{{ product.name }}">
          {% else %}
            <div class="bg-light text-center p-5"><i class="fas fa-image fa-3x text-muted"></i></div>
          {% endif %}
        </div>
        <div class="card-body">
          <h5 class="product-title">{{ product.name }}</h5>
          <p class="text-muted small">{{ product.description|truncatechars:90 }}</p>
          <div class="d-flex justify-content-between align-items-center">
            <span class="product-price">à§³{{ product.price }}</span>
            <div class="rating">
              {% for i in "12345" %}
                {% if forloop.counter <= product.average_rating %}<i class="fas fa-star"></i>
                {% else %}<i class="far fa-star"></i>{% endif %}
              {% endfor %}
            </div>
          </div>
        </div>
        <div class="card-footer">
          <a href="{% url 'shop:product_detail' product.slug %}" class="btn btn-sm btn-outline-primary mb-2"><i class="fas fa-eye me-1"></i>View</a>
          <form action="{% url 'shop:cart_add' product.id %}" method="post">{% csrf_token %}
            <button class="btn btn-sm btn-primary w-100"><i class="fas fa-cart-plus me-1"></i>Add to Cart</button>
          </form>
        </div>
      </div>
    </div>
    {% empty %}
    <div class="col-12"><div class="alert alert-info">No featured products available.</div></div>
    {% endfor %}
  </div>
</section>

<!-- Banner -->
<div class="container my-5 fade-in">
  <div class="card banner-card">
    <div class="row g-0 align-items-center">
      <div class="col-md-6 d-none d-md-block">
        <img src="https://placehold.co/600x400/00bfa6/ffffff?text=50%25+Off+Sale" class="img-fluid" alt="Sale">
      </div>
      <div class="col-md-6 p-5">
        <h3>Mid-Season Sale ğŸ”¥</h3>
        <p>Grab 50 % off on exclusive items. Limited time only!</p>
        <a href="{% url 'shop:product_list' %}" class="btn btn-primary">Shop Now</a>
      </div>
    </div>
  </div>
</div>

<!-- Categories -->
<section class="container fade-up">
  <div class="section-header">
    <h2 class="section-title">Shop by Category</h2>
    <p class="text-muted">Find what suits your style</p>
  </div>
  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    {% for category in categories %}
    <div class="col">
      <div class="card category-card h-100 text-center p-4">
        <div class="category-icon mb-3">
          <i class="fas fa-{% if forloop.counter == 1 %}basket-shopping
                {% elif forloop.counter == 2 %}apple-whole
                {% elif forloop.counter == 3 %}wheat-awn
                {% elif forloop.counter == 4 %}cheese
                {% elif forloop.counter == 5 %}drumstick-bite
                {% elif forloop.counter == 6 %}leaf
                {% elif forloop.counter == 7 %}mug-hot
                {% elif forloop.counter == 8 %}wine-bottle
                {% elif forloop.counter == 9 %}cookie-bite
                {% elif forloop.counter == 10 %}mug-hot
                {% elif forloop.counter == 11 %}cookie-bite
                {% elif forloop.counter == 11 %}cookie-bite
                {% elif forloop.counter == 13 %}baby-bottle
                {% else %}tag{% endif %}"></i>
        </div>
        <h5>{{ category.name }}</h5>
        <p class="text-muted small">{{ category.description|truncatechars:100 }}</p>
        <a href="{% url 'shop:product_list_by_category' category.slug %}" class="btn btn-outline-primary">Explore</a>
      </div>
    </div>
    {% empty %}
    <div class="col-12"><div class="alert alert-info">No categories yet.</div></div>
    {% endfor %}
  </div>
</section>

<!-- Newsletter -->
<div class="container my-5 fade-in">
  <div class="card newsletter-card">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <h3 class="mb-3 fw-bold">Join Our Newsletter</h3>
        <p class="text-light mb-4">Be first to know about deals & new drops.</p>
        <form class="row g-2 justify-content-center">
          <div class="col-md-8">
            <input type="email" placeholder="Enter your email address" class="form-control form-control-lg">
          </div>
          <div class="col-md-4">
            <button class="btn btn-lg w-100">Subscribe</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
